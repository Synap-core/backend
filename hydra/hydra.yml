version: v1.0.0

# Serve Configuration
serve:
  public:
    port: 4444
    host: 0.0.0.0
    cors:
      enabled: true
      allowed_origins:
        - ${ORY_UI_URL:-http://localhost:3000}
      allowed_methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      allowed_headers:
        - Content-Type
        - Authorization
      exposed_headers:
        - Content-Type
      allow_credentials: true
  admin:
    port: 4445
    host: 0.0.0.0

# URLs
urls:
  self:
    issuer: ${ORY_HYDRA_ISSUER_URL:-http://localhost:4444}
  consent: ${ORY_CONSENT_URL:-http://localhost:3000/consent}
  login: ${ORY_LOGIN_URL:-http://localhost:3000/login}
  error: ${ORY_ERROR_URL:-http://localhost:3000/error}
  logout: ${ORY_LOGOUT_URL:-http://localhost:3000/logout}

# Strategies
strategies:
  access_token: jwt
  scope: exact

# OAuth2 Configuration
oauth2:
  expose_internal_errors: false
  hashers:
    algorithm: bcrypt
    bcrypt:
      cost: 12
  grant_types:
    - authorization_code
    - client_credentials
    - refresh_token
    - urn:ietf:params:oauth:grant-type:token-exchange  # Token Exchange for websites

# Logging
log:
  level: ${LOG_LEVEL:-info}
  format: json

