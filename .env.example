# Synap Backend Environment Configuration
# Copy this file to .env and update with your values


# --- CORE ---
NODE_ENV=development
LOG_LEVEL=debug

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# API Server Port (default: 4000 to avoid conflict with frontend on 3000)
PORT=4000

# Realtime WebSocket Server Port
REALTIME_PORT=4001

# Node Environment
NODE_ENV=development

# === Authentication (Ory Kratos) ===
KRATOS_PUBLIC_URL=http://localhost:4433
KRATOS_ADMIN_URL=http://localhost:4434
KRATOS_SECRETS_COOKIE=changeme-changeme-changeme-changeme-changeme-changeme
KRATOS_SECRETS_CIPHER=changeme-changeme-changeme-changeme-changeme-changeme
KRATOS_WEBHOOK_SECRET=your-webhook-secret-here-change-in-production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Connection String
DATABASE_URL='postgresql://postgres:synap_dev_password@localhost:5432/synap'

# Individual DB Config (optional, used by docker-compose)
DB_USER=postgres
DB_PASSWORD=synap_dev_password
DB_NAME=synap
DB_PORT=5432

# =============================================================================
# STORAGE CONFIGURATION (S3-Compatible)
# =============================================================================
# Storage Provider: 'minio' or 'r2'
STORAGE_PROVIDER=minio

# MinIO Configuration (Local Development)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=synap-storage
MINIO_USE_SSL=false

# Cloudflare R2 Configuration (Production - Optional)
# R2_ACCOUNT_ID=your_account_id
# R2_ACCESS_KEY_ID=your_access_key
# R2_SECRET_ACCESS_KEY=your_secret_key
# R2_BUCKET=synap-production

# =============================================================================
# AUTH CONFIGURATION (Ory Stack)
# =============================================================================
# Ory Kratos URLs
KRATOS_PUBLIC_URL=http://localhost:4433
KRATOS_ADMIN_URL=http://localhost:4434

# Kratos Secrets (Must be exactly 32 characters!)
# Generate with: head -c 24 /dev/urandom | base64 | tr -d '=' | head -c 32
KRATOS_SECRETS_COOKIE=PLEASE_CHANGE_THIS_32CHAR_SECRET
KRATOS_SECRETS_CIPHER=PLEASE_CHANGE_THIS_32CHAR_SECRET

# =============================================================================
# AI CONFIGURATION
# =============================================================================
# OpenAI API Key
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key (optional)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Google AI API Key (optional)
GOOGLE_AI_API_KEY=your-google-ai-key-here

# =============================================================================
# INNGEST CONFIGURATION (Background Jobs)
# =============================================================================
# Inngest Event Key (for production)
# INNGEST_EVENT_KEY=your-inngest-event-key-here

# Inngest Signing Key (for production)
# INNGEST_SIGNING_KEY=your-inngest-signing-key-here

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# =============================================================================
# OPTIONAL: MONITORING & OBSERVABILITY
# =============================================================================
# OpenTelemetry Configuration (optional)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
# OTEL_SERVICE_NAME=synap-api
